---
import { urlFor } from "../utils/image";
import type { Post } from "../utils/sanity";

interface Props {
  post: Post;
}

const { post } = Astro.props;
---

<div class="bg-light rounded-lg shadow-lg overflow-hidden">
  {
    post.mainImage ? (
      <img
        class="w-full h-48 object-cover"
        src={urlFor(post.mainImage).width(600).height(300).url()}
        alt={post.mainImage.alt || "Project image"}
      />
    ) : (
      <div class="w-full h-48 bg-gray-200"></div>
    )
  }
  <div class="p-6 text-center">
    <h3 class="text-xl font-bold mb-2 text-dark">
      <a href={`/post/${post.slug.current}`} class="hover:underline">
        {post.title}
      </a>
    </h3>
    <p class="text-sm text-muted mb-6">{post.excerpt}</p>
    <a
      href={`/post/${post.slug.current}`}
      class="inline-block bg-secondary text-white px-6 py-2 rounded font-medium hover:bg-primary transition"
    >
      READ MORE
    </a>
  </div>
</div>
